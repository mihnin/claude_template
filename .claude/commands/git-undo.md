# Отмена изменений в Git

Что отменить (опционально): $ARGUMENTS

## Процесс отмены изменений:

1. **Анализ текущего состояния**
   - Выполнить `git status` для проверки состояния
   - Выполнить `git log -5 --oneline` для просмотра истории коммитов
   - Определить, что нужно отменить

2. **Определение типа отмены**
   
   ### А. Если изменения НЕ закоммичены:
   - **Отменить все незакоммиченные изменения:**
     - `git checkout -- .` (отменить изменения в файлах)
     - `git clean -fd` (удалить новые файлы)
   - **Отменить изменения в конкретном файле:**
     - `git checkout -- путь/к/файлу`
   - **Убрать файлы из staging area:**
     - `git reset HEAD` (убрать все из staging)
     - `git reset HEAD путь/к/файлу` (убрать конкретный файл)

   ### Б. Если изменения уже закоммичены, но НЕ отправлены:
   - **Отменить последний коммит, сохранив изменения:**
     - `git reset --soft HEAD~1`
   - **Отменить последний коммит и изменения:**
     - `git reset --hard HEAD~1`
   - **Изменить последний коммит:**
     - Внести изменения
     - `git add .`
     - `git commit --amend`

   ### В. Если изменения уже отправлены на GitHub:
   - **Создать новый коммит, отменяющий предыдущий:**
     - `git revert HEAD`
     - `git push origin main`
   - **ОПАСНО: Принудительно переписать историю:**
     - Спросить подтверждение у пользователя!
     - `git reset --hard HEAD~1`
     - `git push --force origin main`

3. **Выполнение отмены**
   - Выбрать подходящий метод на основе анализа
   - Если пользователь указал что отменить в $ARGUMENTS, использовать эту информацию
   - Выполнить команды отмены

4. **Проверка результата**
   - Показать новое состояние: `git status`
   - Показать историю: `git log -3 --oneline`
   - Подтвердить успешную отмену

## Важно:
- Всегда предупреждать о последствиях отмены
- НИКОГДА не использовать --force без явного подтверждения
- Предлагать создать резервную ветку перед опасными операциями
- Объяснять разницу между soft, mixed и hard reset